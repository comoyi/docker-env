version: '2'

services:

# nginx

  nginx:
    build: ./nginx
    image: comoyi/nginx:0.0.1
    ports:
      - 80:80
    volumes:
      - ./nginx/conf:/etc/nginx
      - ${DATA_PATH}/www:/var/www/html
      - ${DATA_PATH}/log/nginx:/var/log/nginx

# redis

  redis:
    build: ./redis
    image: comoyi/redis:0.0.1
    ports:
      - 50501:6379

# php-fpm

  php-fpm:
    build: ./php-fpm
    image: comoyi/php-fpm:0.0.1
    ports:
      - 50201:9000
    volumes:
      - ${DATA_PATH}/www:/var/www/html
      - ${DATA_PATH}/log/php-fpm:/var/log/php

# php-cli

  php-cli:
    build: ./php-cli
    image: comoyi/php-cli:0.0.1
